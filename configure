#!/usr/bin/python

import sys

SCRIPTS_DIR = sys.path[0] + '/../scripts'
sys.path.append( SCRIPTS_DIR )
import zbld

BASE_DIR       = zbld.NormalizePath(sys.path[0]) + '/'
TARGET_DIR     = BASE_DIR
TARGET_NAME    = "zhost"
MAKEFILE_DIR   = BASE_DIR
CODE_DIR       = BASE_DIR

# 32 bit target
m32 = False

APP_CFLAGS = zbld.GetHostCflags()
LD_FLAGS = zbld.GetHostLflags( m32 )

def main():
    appObjs = [
        "allocator",
        "cmd",
        "com_files",
        "com_str",
        "com_tokens",
        "con_draw",
        "con_font",
        "con_log",
        "con_main",
        "con_prompt",
        "main",
        "r_sdl",
        "sys",
        "var",
    ]
    zbld.GenerateMakefile( BASE_DIR, [ ( CODE_DIR, appObjs ) ], APP_CFLAGS, LD_FLAGS, TARGET_DIR, TARGET_NAME, MAKEFILE_DIR, m32 )

    if zbld.IsWindows():
        zbld.HostCopyProperSDL( m32 )

main()
